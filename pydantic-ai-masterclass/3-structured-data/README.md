# 100% Reliable LLM Outputs with Structured Data Outputs (Developer Tutorial)

## Overview

Welcome to the **[PydanticAI Masterclass](https://www.youtube.com/playlist?list=PL2yl5VopECya-fXbIKlGbkv8qgTFVsfwO)**! This series explores the core features of **PydanticAI**, a robust framework for building effective AI agents using simple Python code. In this tutorial, weâ€™ll focus on **Structured Data Outputs** and their critical role in getting reliable outputs from AI agents. By the end of this session, you'll have the tools and confidence to craft agents tailored to your specific needs.

Creating reliable, enterprise-grade AI applications requires strongly-typed, validated data objects to ensure downstream systems can trust the data generated by LLMs. However, unprocessed LLM outputs are often unreliable and unpredictable. This tutorial shows you how to harness structured response outputs to achieve 100% consistency for your AI-powered solutions.

This repository serves as a companion to the PydanticAI Masterclass and its third video tutorial **[100% Reliable LLM Outputs with Structured Data Outputs (Developer Tutorial)](https://www.youtube.com/watch?v=PXO9_nWZYrc)** which introduces the `result_type` parameter through practical examples.

[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/PXO9_nWZYrc/0.jpg)](https://www.youtube.com/watch?v=PXO9_nWZYrc)

## Masterclass Modules

- [Part 1: The Best Agent Framework Has Arrived (Coding Tutorial for PydanticAI w/ OpenAI, Ollama, AzureOpenAI)](https://www.youtube.com/watch?v=xVe87QpNE80)
- [Part 2: From Chaos to Clarity: LLM Tracing with Logfire and PydanticAI (Coding Tutorial)](https://www.youtube.com/watch?v=TTNT3rnuZp0)
- [Part 3: 100% Reliable LLM Outputs with Structured Data Outputs (Developer Tutorial)](https://www.youtube.com/watch?v=PXO9_nWZYrc)
- [Part 4: Mastering System Prompts in PydanticAI: The Ultimate Guide (Developer Coding Tutorial)](https://www.youtube.com/watch?v=WQqsiB0xUXk)
- [Part 5: Build More Effective Agents with Function Tools in PydanticAI (Developer Tutorial)](https://www.youtube.com/watch?v=4UN2emXnxN4)
- Part 6: Improve the Accuracy of AI Agents with Result Validator Functions (Developer Tutorial)
- Part 7: Simplify Agent Workflows with Dependency Injection in PydanticAI (Developer Tutorial)
- Part 8: Advanced Retry Strategies for High-Performance AI Agents in PydanticAI (Developer Tutorial)
- Part 9: Better Context Retention with Agent Memory in PydanticAI (Developer Tutorial)
- Part 10: Building Resilient Agents: Best Practices for Handling Model Errors in PydanticAI (Developer Tutorial)
- Part 11: Better User Experience with Streaming Outputs in PydanticAI (Developer Tutorial)
- Part 12: Achieving Precision and Efficiency with Advanced Model Settings (Developer Tutorial)
- Part 13: Multi-Model Agents in PydanticAI: Unlocking Next-Gen AI Capabilities (Developer Tutorial)
- Part 14: Mastering RAG in PydanticAI: Better AI Agents with Real-Time Data (Developer Tutorial)
- Part 15: Masterclass Final Project: AI Resume Writing with Multiple Agents (Developer Tutorial)

## Stay In Touch

Stay ahead in the fast-paced world of AI by subscribing to our newsletter, **[Code the Revolution](https://aidev9.substack.com/)**! From cutting-edge tutorials to breaking industry news, we bring you the insights and tools you need to stay informed and inspired. Whether you're a developer, entrepreneur, or AI enthusiast, our newsletter ensures you're always in the loop. Donâ€™t miss outâ€”join a community that's shaping the future of AI. **[Subscribe now and revolutionize the way you code!](https://aidev9.substack.com/)**

## Looking for Collaborators

Have an idea for an article, video tutorial, a learning project or anything related to AI? Consider collaborating with our growing community of collaborators. Get started today by [posting your idea on our Discord sever](https://discord.gg/eQXBaCvTA9). Together, we are building a strong community of AI Software Developers.

## How to Contribute to This Repository

This repository is maintained by the team at **[AI Software Developers](https://www.youtube.com/@AISoftwareDevelopers)** channel. Contributions are welcome! If you'd like to contribute, please check out the contribution guidelines and submit a PR.

## Examples

### 1. Hello, World!

Send a simple result_type example:

```python
# Define the output model
class Calculation(BaseModel):
    """Captures the result of a calculation"""
    result: int

# Define the agent
agent = Agent(model=model, result_type=Calculation)

# Run the agent
result = agent.run_sync("What is 100 + 300?")
```

### 2. Pydantic Models

Return structured classes:

```python
# Define the model
model = OpenAIModel('gpt-4o-mini', api_key=os.getenv('OPENAI_API_KEY'))

# Define the output model
class Capital(BaseModel):
    """Capital city model - includes name and short history of the city"""
    name: str
    year_founded: int
    short_history: str

# Define the agent
agent = Agent(model=model, result_type=Capital)

# Run the agent
result = agent.run_sync("What is the capital of the US?")
```

---

## Getting Started

This guide will help developers get started with PydanticAI, a new framework for building AI agents using Python.

### ðŸš€ In this video, you'll learn:

- Building a simple "Hello, World!" structured response
- Creating a Capital City model using Pydantic
- Parsing invoices with structured outputs
- Designing a resume parser for validated data
- Scraping real estate data with strong type enforcement

ðŸŽ¯ Whether you're building a chatbot, an AI agent, or any other LLM-powered system, this tutorial provides practical examples to elevate your applicationâ€™s reliability.

**PydanticAI is designed to create robust and reliable AI applications by enabling agents to output structured data in the form of Pydantic models.** This ensures that the data from Large Language Models (LLMs) is strongly-typed and validated, crucial for enterprise-grade applications where reliability is paramount.

Unprocessed LLM outputs can be unpredictable and untrustworthy, leading to exceptions and crashes in downstream processing. PydanticAI addresses this by converting text into structured, validated Python classes.

### **Key Features**

- **Structured LLM Responses:** PydanticAI agents can output structured data, ensuring data reliability and predictability.
- **Pydantic Model Integration:** The framework utilizes Pydantic models for data validation and type safety.
- **Simplified Development:** PydanticAI provides a built-in `result_type` parameter for agents, making it easy to obtain clean data from LLMs.
- **Parsing Capabilities:** The framework enables parsing text data into structured Pydantic models.

### **Resources**

- **GitHub Repository:** The code samples for this masterclass, as well as other AI-related examples are available at: [github.com/aidev9/tuts/tree/main/pydantic-ai-masterclass](https://github.com/aidev9/tuts/tree/main/pydantic-ai-masterclass).
- **Discord Server:** Connect with other AI developers and get support at: [discord.gg/eQXBaCvTA9](https://discord.gg/eQXBaCvTA9).

### **Learning Resources**

- **Masterclass:** The PydanticAI Masterclass offers over 18 features, 60+ AI agent examples, and 4+ hours of video tutorials.

### **Example Use Cases**

The PydanticAI masterclass covers various real-world examples like:

- **Hello World:** A simple starting point to understand the basic structure.
- **Capital City Model:** Demonstrates creating a multi-field Pydantic class for capital cities.
- **Invoice Parsing:** Shows how to parse an invoice and output structured data.
- **Resume Parsing:** Parses a resume and creates a structured output.
- **Real Estate Scraping:** Demonstrates scraping real estate listings (or any page with structured data) and generating structured LLM data for downstream processing.

By following this guide and exploring the provided resources, developers can start building their own reliable and efficient AI agents using PydanticAI.

---

## PydanticAI FAQ

### What is PydanticAI?

PydanticAI is a framework that allows developers to build AI agents using Python. The framework makes it easy to create agents that can process and generate text, as well as interact with other systems. One of the key features of PydanticAI is its ability to produce structured data in the form of Pydantic models. This makes it possible to create agents that can reliably process and generate data that can be used in other applications.

### Why is structured data important in AI applications?

Unprocessed outputs from Large Language Models (LLMs) can be unreliable and unpredictable, leading to issues in downstream processing and potential crashes. Structured, validated data, often in the form of Pydantic models, ensures that the data from LLMs is reliable and consistent for enterprise-grade applications.

### What are the key features of PydanticAI?

PydanticAI offers a variety of features to build effective AI agents:

- Structured LLM Responses: Agents can output data in the form of Pydantic models, providing type-safe and validated data structures.
- LLM Text Generation: Agents can generate natural language text.
- Parsing: Agents can parse text and extract structured data.
- Built-in result_type Parameter: Simplifies the process of obtaining structured data from LLMs.

### What are some examples of applications built with PydanticAI?

The masterclass showcased several examples of PydanticAI applications:

- Hello World: A basic example to demonstrate the structure of an agent.
- Capital City Pydantic Model: An agent that returns structured data about capital cities.
- Invoice Parser: An agent that parses invoice data into a structured output.
- Resume Parser: An agent that extracts information from resumes and outputs it in a structured format.
- Real Estate Scraper: An agent that scrapes data from real estate listings and outputs it as structured data.

### Where can I find resources to learn more about PydanticAI?

The Github repository associated with the masterclass contains code samples and working projects related to PydanticAI: https://github.com/aidev9/tuts/tree/main/pydantic-ai-masterclass

### Is there a community for PydanticAI developers?

A Discord server is available for connecting with other AI developers and seeking support: https://discord.gg/eQXBaCvTA9

### How can I ensure my PydanticAI agents are effective?

Future episodes of the masterclass will delve into creating effective static and dynamic system prompts. These prompts are crucial in guiding the agent's behavior and ensuring accurate outputs.

### What is the main takeaway from the PydanticAI masterclass?

The core message is that using PydanticAI to generate strongly-typed, validated outputs from LLMs significantly improves the reliability and user experience of AI applications. The framework provides tools to streamline this process, leading to more robust and trustworthy AI solutions.

---

## Documentation

For questions or support, visit the [PydanticAI Documentation](https://ai.pydantic.dev).

## Help and Support

If you encounter issues or have questions, feel free to open an issue in this repository, [ask a question on the Discord sever](https://discord.gg/eQXBaCvTA9) or refer to the [PydanticAI Documentation](https://ai.pydantic.dev).

## Thank you

Thank you for contributing to this repository! Your efforts help create a valuable resource for the AI community. If you have any questions, feel free to reach out via [our Discord sever](https://discord.gg/eQXBaCvTA9) or open an issue in this repository. Letâ€™s build a strong AI community together!

## Video Summary

### PydanticAI Masterclass: Structured Outputs for Reliable AI Applications

This section reviews the key themes and insights from the provided excerpts from the video tutorial **[100% Reliable LLM Outputs with Structured Data Outputs (Developer Tutorial)](https://www.youtube.com/watch?v=PXO9_nWZYrc)**, a masterclass on PydanticAI, a framework for building AI agents.

Core Focus: The video emphasizes the importance of structured data output from Large Language Models (LLMs) in creating reliable AI applications.

### Key Problem: Unprocessed LLM outputs are inherently unreliable and unpredictable, making them unsuitable for direct use in many applications.

### Solution: PydanticAI offers a solution by enabling developers to define structured output formats using Pydantic models, ensuring strongly-typed, validated data from LLMs.

## Benefits:

- Reliability: Structured outputs improve the reliability of AI applications by providing consistent and predictable data formats.
  > "Strongly-typed, validated data objects are essential to creating relaible, enterprise-grade AI applications."
- Trustworthiness: Downstream processes can trust the data received from LLMs, eliminating the risk of exceptions and crashes caused by unexpected data types.
- Convenience: PydanticAI simplifies the process of obtaining structured data through the result_type parameter in the Agent class.
  > "PydanticAI provides a build-in structured output parameter result_type for Agent, making it super-convenient to get clean data out of LLMs."

## Masterclass Content:

The masterclass covers various practical examples demonstrating the use of PydanticAI for structured data output:

- Hello, World!: A simple introductory example.
- Capital City Pydantic Model: Creating a multi-field Pydantic model for capital city data.
- Invoice Parser and Structured Output: Parsing invoices and generating structured output.
- Resume Parser and Structured Output: Parsing resumes and creating structured output.
- Real Estate Scraper and Structured Output: Scraping real estate listings and generating structured data for downstream processing.

## Upcoming Topics: Future masterclass sessions will focus on adding static and dynamic system prompts to agents, further enhancing their effectiveness.

## Overall Takeaway

The video highlights the importance of structured outputs from LLMs and position PydanticAI as a powerful tool for achieving reliability and trustworthiness in AI applications. The masterclass aims to equip developers with the knowledge and skills to leverage this framework effectively.
